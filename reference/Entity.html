<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Entity class — Entity • dymiumCore</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Entity class — Entity" />
<meta property="og:description" content="The base class (first building block) for Agent, Asset and Environment." />
<meta property="og:image" content="https://core.dymium.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-158512288-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158512288-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dymiumCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/dymium-intro.html">Introduction</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/why-another-microsim.html">Why another microsimulation package?</a>
    </li>
    <li class="dropdown-header">Manual</li>
    <li>
      <a href="../articles/for-developers.html">For developers</a>
    </li>
    <li>
      <a href="../articles/for-modellers.html">For modellers</a>
    </li>
    <li>
      <a href="../articles/for-endusers.html">For end users</a>
    </li>
    <li class="dropdown-header">Use cases</li>
    <li>
      <a href="../articles/residential-mobility.html">Residential mobility</a>
    </li>
    <li>
      <a href="../articles/mate-matching.html">Mate matching</a>
    </li>
    <li>
      <a href="../articles/marital-status.html">Marital status</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/dymium-org/dymiumCore/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Entity class</h1>
    <small class="dont-index">Source: <a href='https://github.com/dymium-org/dymiumCore/blob/master/R/Entity.R'><code>R/Entity.R</code></a></small>
    <div class="hidden name"><code>Entity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The base class (first building block) for <a href='Agent.html'>Agent</a>, <a href='Asset.html'>Asset</a> and <a href='Environment.html'>Environment</a>.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6::R6Class</a> object.</p>
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    
<pre><span class='no'>x</span> <span class='kw'>&amp;</span><span class='no'>lt</span>;- <span class='no'>Entity</span>$<span class='fu'>new</span>(<span class='no'>databackend</span>, <span class='no'>.data</span>, <span class='no'>id_col</span>)</pre>

<p>Stores <code>.data</code> as a DataBackend object inside the object's list of data (<code>private$.data</code>)
and registers the <code>id_col</code> (<code>private$.id_col</code>).</p><ul>
<li><p><code>databackend</code> :: an <a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6::R6Class</a> generator]<br />
An <a href='https://rdrr.io/pkg/R6/man/R6Class.html'>R6::R6Class</a> generator that inherits from <code>DataBackend</code>.</p></li>
<li><p><code>.data</code> :: <code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame()</a></code><br />
A object that inherits from <code>data.frame</code>.</p></li>
<li><p><code>id_col</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code><br />
The name of the id column of <code>.data</code> and all relation columns. The first
element will be checked as the main id column of the entity data, which
must be unique integers. The rest of the vector will be consider as relation
columns. For example, if <code><a href='https://rdrr.io/r/base/c.html'>c("pid", "partner_id")</a></code> is given <code>pid</code> must contain
unique integers, while <code>partner_id</code> can be <code>NA</code> or non-unique integers.</p></li>
</ul>

    <h2 class="hasAnchor" id="active-fields-read-only-"><a class="anchor" href="#active-fields-read-only-"></a>Active Fields (read-only)</h2>

    

<ul>
<li><p><code>database</code>: a list of <a href='DataBackend.html'>DataBackend</a> objects that Entity possess.</p></li>
<li><p><code>id_col</code>: a character vector of all id columns with the first element being
the main id column and the other elements, if any, are relation columns.</p></li>
<li><p><code>data_template</code>: a data.table object that contains the minimum data requirement apart
from the <code>id_col</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<ul>
<li><p><code>add_data(databackend = DataBackendDataTable, .data, name)</code><br />
(<code>DataBackend</code>, <code>data.frame</code>, <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>) -&gt; <code>NULL</code><br />
Append new data to the object's data list (<code>private$.data</code>). the new data
must be linkable with the attribute data of the object by the id_col.</p></li>
<li><p><code><a href='https://rdrr.io/r/utils/data.html'>data(name)</a></code><br />
(<code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>) -&gt; (<code>[dymiumCore::DataBackend]</code>|<code>NULL</code>)<br />
Returns a <a href='DataBackend.html'>DataBackend</a> with the name that matches <code>name</code>.
If <code>name</code> is not given, the function will try to return the <a href='DataBackend.html'>DataBackend</a> with name <code>attrs</code>.
If <code>attrs</code> is not present or no <code>DataBackEnd</code> objects have been loaded it will
return <code>NULL</code>.</p></li>
<li><p><code>add(.data, check_existing = FALSE)</code><br />
(<code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code>, <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>)<br />
Add attribute data of new entities. This makes sure none of the ids
of the new entities are the same as the existing entity records. However, other id columns,
relation columns can be exempted from the check by setting <code>check_existing</code> as <code>FALSE</code>.
Meaning, the other id columns can contain ids of the existing entities.</p></li>
<li><p><code>get_id_col</code><br />
() -&gt; <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code><br />
Returns the column id field of data.</p></li>
<li><p><code>get_data(ids, copy = TRUE)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>, <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>) -&gt; (<code>[data.table::data.table()]</code>|<code>NULL</code>)<br />
Return agent data. When <code>ids</code> is specified, the data returned has the same
row order as the order of <code>ids</code>. If <code>copy</code> is TRUE then data.table's
reference semantics is returned. If <code>attrs</code> is not present or no <code>DataBackEnd</code>
objects have been loaded it will return <code>NULL</code>.</p></li>
<li><p><code>get_data_names()</code><br />
() -&gt; <code><a href='https://rdrr.io/r/base/character.html'>character()</a></code><br />
Returns the names of all data objects (in <code>private$.data</code>) that belongs to this object.</p></li>
<li><p><code>get_removed_data(name)</code><br />
(<code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>) -&gt; <code><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table()</a></code><br />
Return removed agent data. If <code>name</code> is missing, the first data, which should
contains the main attributes of the agent object, will be returned.</p></li>
<li><p><code>get_ids(include_removed = </code>FALSE<code>)</code><br />
(<code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code><br />
Return the ids of the indexes in the argrument <code>idx</code>, respectively. If <code>include_removed</code>
is <code>TRUE</code>, ids of removed data will also be returned.</p></li>
<li><p><code>get_idx(ids)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code><br />
Return the indexes of the ids in the argrument <code>ids</code>, respectively.</p></li>
<li><p><code>get_attr(x, ids)</code><br />
(<code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>, <code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/vector.html'>vector(type::col)</a></code><br />
Extract the attribute from self$data as vector. If <code>ids</code> is given then only
the corresponding values to <code>ids</code> are returned, in the same order as the <code>ids</code>.</p></li>
<li><p><code>has_attr(x)</code><br />
(<code><a href='https://rdrr.io/r/base/character.html'>character()</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/logical.html'>logical()</a></code><br />
Check which of the attribute names given in <code>x</code> exist in the attribute data
of the object.</p></li>
<li><p><code>ids_exist(ids, include_removed_data = FALSE)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>, <code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/logical.html'>logical()</a></code><br />
Check whether <code>ids</code> exist or not.  And if <code>inclide_removed_data</code> is <code>TRUE</code> it
will also check the removed data.</p></li>
<li><p><code>idx_exist(idx, by_element = FALSE)</code><br />
(<code><a href='https://rdrr.io/r/base/integer.html'>integer()</a></code>) -&gt; <code><a href='https://rdrr.io/r/base/logical.html'>logical()</a></code><br />
Returns a logical vector of the same length as the argument <code>idx</code>. This function
checks whether the indexes in the argument <code>idx</code> exist or not. If <code>by_element</code> is
TRUE then it will return a logical vector with the same length as <code>ids</code> in
their respective order.</p></li>
<li><p><code>n()</code><br />
() -&gt; <code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code><br />
Returns the number of entities represented by this object.</p></li>
<li><p><code>print_data(n = 0)</code><br />
(<code><a href='https://rdrr.io/r/base/logical.html'>logical(1)</a></code>) -&gt; <code>self</code><br />
Print to console the number of datasets and their dimensions. <code>n</code> is the number of rows
that will be output to console by <code><a href='https://rdrr.io/r/utils/head.html'>head()</a></code>, if 0 nothing will be printed.</p></li>
<li><p><code>subset_ids(expr)</code><br />
(<code>expr</code>) -&gt; <code>[data.table::data.table()]</code><br />
Return ids of rows matches the expression.</p></li>
</ul>


  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Amarin Siripanich, Taha Rashidi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '5b9cd61032daf2c5966b7cd693157aa2',
    indexName: 'dymiumcore',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


