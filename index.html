<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A toolbox for building a dynamic microsimulation model in R. • dymiumCore</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="A toolbox for building a dynamic microsimulation model in R.">
<meta property="og:description" content="A modular microsimulation modelling framework for integrated urban modelling.">
<meta property="og:image" content="https://core.dymium.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-158512288-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-158512288-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">dymiumCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/dymium-intro.html">Introduction</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/why-another-microsim.html">Why another microsimulation package?</a>
    </li>
    <li class="dropdown-header">Manual</li>
    <li>
      <a href="articles/for-developers.html">For developers</a>
    </li>
    <li>
      <a href="articles/for-modellers.html">For modellers</a>
    </li>
    <li>
      <a href="articles/for-endusers.html">For end users</a>
    </li>
    <li class="dropdown-header">Use cases</li>
    <li>
      <a href="articles/residential-mobility.html">Residential mobility</a>
    </li>
    <li>
      <a href="articles/mate-matching.html">Mate matching</a>
    </li>
    <li>
      <a href="articles/marital-status.html">Marital status</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dymium-org/dymiumCore/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="dymiumcore" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#dymiumcore" class="anchor"></a>dymiumCore</h1></div>
<p><img src="reference/figures/dymium-banner.png" align="centre"></p>
<p><strong>dymiumCore</strong> is an R package which provides a toolbox for developing a microsimulation model. While the core focus of the package is for modelling urban systems, dymium can be easily extended to apply in other contexts as well.</p>
</div>
<div id="why-another-microsimulation-framework" class="section level1">
<h1 class="hasAnchor">
<a href="#why-another-microsimulation-framework" class="anchor"></a>Why another microsimulation framework?</h1>
<p>It is true that there is no shortage of open source microsimulation frameworks, but many of the existing ones often use a platform that doesn’t support data analysis as good as R, or use a programming langauge that many modellers may be unfamiliar with. Hence, those frameworks would not be the first choice for many modellers who are interested in microsimulation modelling but lack the programming skills or time to learn a programming langauge that is foreign and has no other benefits to them. The main philosophy of <code>dymiumCore</code> is to use the power of existing R packages to create functions and classes that are the basic building blocks of any microsimulation model, in general, and to allow an entire workflow from data preparation, model estimation, microsimulation, calibration to visualisation within only the R environment, where many other frameworks do not offer. This enhances reproducibility and maintainability of your microsimulation model and allow others to build on your work more easily. <a href="https://core.dymium.org/articles/why-another-microsim.html">Read more…</a></p>
</div>
<div id="why-dymiumcore" class="section level1">
<h1 class="hasAnchor">
<a href="#why-dymiumcore" class="anchor"></a>Why <code>dymiumCore</code>?</h1>
<ul>
<li>written in R</li>
<li>easy to setup</li>
<li>ready-to-use events see <a href="https://github.com/dymium-org/dymiumModules">dymium-org/dymiumModules</a>
</li>
<li>microsimulation events are modular, sharable and scalable</li>
<li>equipped with the basic building blocks for building a microsimulation model that is flexible and extensible.</li>
<li>can use parameters from various model objects (e.g. <code><a href="https://rdrr.io/r/stats/lm.html">stats::lm</a></code>, <code><a href="https://rdrr.io/r/stats/glm.html">stats::glm</a></code>, <code><a href="https://rdrr.io/pkg/caret/man/train.html">caret::train</a></code>, <code><a href="https://mlr.mlr-org.com/reference/train.html">mlr::train</a></code>).</li>
</ul>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of dymiumCore from Github with:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"dymium-org/dymiumCore"</span>,
                         <span class="kw">ref</span> <span class="kw">=</span> <span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/github_refs.html">github_release</a></span>())</pre></div>
<p>The current development version on Github can be installed with:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="kw pkg">remotes</span><span class="kw ns">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"dymium-org/dymiumCore"</span>)</pre></div>
<p>Note that, <code>dymiumCore</code> is not yet on CRAN.</p>
</div>
<div id="a-hello-world-example" class="section level2">
<h2 class="hasAnchor">
<a href="#a-hello-world-example" class="anchor"></a>A Hello World Example!</h2>
<p>This is a minimal example of how one can create a discrete-time microsimulation model with dymiumCore.</p>
<p>In this example, we have three events: aging, giving birth, and dying. The aging event increases age of all individuals by 1 year in each iteration, as control by the for loop. The giving birth event only changes the ‘give_birth’ variable of eligible female individuals (age between 18 to 50) to ‘yes’ if the transition for an individual is successful. The death event changes the age attribute of dying individuals to ‘-1’, which means once an individual is dead it will not be considered in any of the <code><a href="reference/transition.html">transition()</a></code> or <code><a href="reference/mutate_entity.html">mutate_entity()</a></code> function calls, as we apply <code>filter_alive</code> and a subset statement to them.</p>
<p>The first principle of dymiumCore is to keep all <code>Entity</code> objects and models (optionally) inside a <code>World</code> object. This allows us to construct a microsimulation model as a data analysis pipeline, which you will see below.</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dymiumCore</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">data.table</span>)

<span class="co"># create models, all individuals have 5% of dying and fertile females have 5% of giving birth</span>
<span class="no">birth_model</span> <span class="kw">&lt;-</span> <span class="no">death_model</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">yes</span> <span class="kw">=</span> <span class="fl">0.05</span>, <span class="kw">no</span> <span class="kw">=</span> <span class="fl">0.95</span>)

<span class="co"># prepare individual data</span>
<span class="no">ind_data</span> <span class="kw">&lt;-</span> <span class="kw pkg">data.table</span><span class="kw ns">::</span><span class="fu"><a href="https://Rdatatable.gitlab.io/data.table/reference/copy.html">copy</a></span>(<span class="no">toy_individuals</span>) <span class="kw">%&gt;%</span>
  <span class="no">.</span>[, <span class="no">.give_birth</span> <span class="kw">:=</span> <span class="st">"no"</span>] <span class="co"># add a dummy column to store birth decision</span>

<span class="co"># create an Individual object</span>
<span class="no">ind</span> <span class="kw">&lt;-</span> <span class="no">Individual</span>$<span class="fu">new</span>(<span class="kw">.data</span> <span class="kw">=</span> <span class="no">ind_data</span>, <span class="kw">id_col</span> <span class="kw">=</span> <span class="st">"pid"</span>)

<span class="co"># create a World object</span>
<span class="no">world</span> <span class="kw">&lt;-</span> <span class="no">World</span>$<span class="fu">new</span>()

<span class="co"># add the Individual object to ‘world’</span>
<span class="no">world</span>$<span class="fu">add</span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">ind</span>)

<span class="co"># create a pre-processing function</span>
<span class="no">filter_fertile</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">.data</span>) {
  <span class="no">.data</span>[<span class="no">age</span> <span class="kw">%between%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">18</span>, <span class="fl">50</span>) <span class="kw">&amp;</span> <span class="no">sex</span> <span class="kw">==</span> <span class="st">"female"</span>]
}

<span class="co"># run the microsimulation pipeline below for 10 iterations</span>
<span class="kw">for</span> (<span class="no">i</span> <span class="kw">in</span> <span class="fl">1</span>:<span class="fl">10</span>) {
  <span class="no">world</span>$<span class="fu">set_time</span>(<span class="no">i</span>) <span class="kw">%&gt;%</span>
    <span class="co"># ageing</span>
    <span class="fu"><a href="reference/mutate_entity.html">mutate_entity</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
                  <span class="no">age</span> <span class="kw">:=</span> <span class="no">age</span> + <span class="fl">1L</span>) <span class="kw">%&gt;%</span>
    <span class="co"># simulate giving birth</span>
    <span class="fu"><a href="reference/transition.html">transition</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
               <span class="kw">model</span> <span class="kw">=</span> <span class="no">birth_model</span>,
               <span class="kw">attr</span> <span class="kw">=</span> <span class="st">".give_birth"</span>,
               <span class="kw">preprocessing_fn</span> <span class="kw">=</span> <span class="no">filter_fertile</span>) <span class="kw">%&gt;%</span>
    <span class="co"># add newborns, by cloning children of age 0</span>
    <span class="fu"><a href="reference/add_entity.html">add_entity</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
               <span class="kw">newdata</span> <span class="kw">=</span> <span class="no">ind_data</span>[<span class="no">age</span> <span class="kw">==</span> <span class="fl">0</span>, ],
               <span class="kw">check_relationship_id_cols</span> <span class="kw">=</span> <span class="fl">FALSE</span>,
               <span class="kw">target</span> <span class="kw">=</span> <span class="no">.</span>$<span class="no">entities</span>$<span class="no">Individual</span>$<span class="fu">get_data</span>()[<span class="no">.give_birth</span> <span class="kw">==</span> <span class="st">"yes"</span>, <span class="no">.N</span>]) <span class="kw">%&gt;%</span>
    <span class="co"># reset the birth decision variable</span>
    <span class="fu"><a href="reference/mutate_entity.html">mutate_entity</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
                  <span class="no">.give_birth</span> <span class="kw">:=</span> <span class="st">"no"</span>) <span class="kw">%&gt;%</span>
    <span class="co"># simulate dying</span>
    <span class="fu"><a href="reference/transition.html">transition</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
               <span class="kw">model</span> <span class="kw">=</span> <span class="no">death_model</span>,
               <span class="kw">attr</span> <span class="kw">=</span> <span class="st">"age"</span>,
               <span class="kw">values</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">yes</span> <span class="kw">=</span> -<span class="fl">1L</span>)) <span class="kw">%&gt;%</span>
    <span class="co"># remove dead individuals</span>
    <span class="fu"><a href="reference/remove_entity.html">remove_entity</a></span>(<span class="kw">entity</span> <span class="kw">=</span> <span class="st">"Individual"</span>,
                  <span class="kw">subset</span> <span class="kw">=</span> <span class="no">age</span> <span class="kw">==</span> -<span class="fl">1</span>) <span class="kw">%&gt;%</span>
    <span class="co"># log the total number of alive individuals at the end of the iteration</span>
    <span class="fu"><a href="reference/add_log.html">add_log</a></span>(<span class="kw">desc</span> <span class="kw">=</span> <span class="st">"count:Individual"</span>,
            <span class="kw">value</span> <span class="kw">=</span> <span class="no">.</span>$<span class="no">entities</span>$<span class="no">Individual</span>$<span class="fu">get_data</span>()[, <span class="no">.N</span>])
}</pre></div>
<blockquote>
<p>Note that, the line <code>value = .$entities$Individual$get_data()[age != -1L, .N]</code> is using the world object’s placeholder which is called <code>.</code> for extracting the attribute data of individual agents. This is a feature of <code>magrittr</code>, to learn more about various ways that <code><a href="reference/pipe.html">%&gt;%</a></code> can be used see <a href="https://magrittr.tidyverse.org/">its documentation page</a>.</p>
</blockquote>
<p>To get the attribute data of any <code>Entity</code> object use <code>$get_data()</code> method.</p>
<div class="sourceCode" id="cb4"><pre class="r"><span class="no">world</span>$<span class="no">entities</span>$<span class="no">Individual</span>$<span class="fu">get_data</span>()
<span class="co">#&gt;      pid hid age    sex marital_status partner_id father_id mother_id</span>
<span class="co">#&gt;   1:   1   1  81   male  never married         NA        NA        NA</span>
<span class="co">#&gt;   2:   2   2  41 female  never married         NA        NA        NA</span>
<span class="co">#&gt;   3:   4   3  48   male        married          5        NA        NA</span>
<span class="co">#&gt;   4:   6   3  10   male not applicable         NA         4         5</span>
<span class="co">#&gt;   5:   8   4  62 female        married          7        NA        NA</span>
<span class="co">#&gt;  ---                                                                 </span>
<span class="co">#&gt; 243: 400  39   0 female not applicable         NA        96        97</span>
<span class="co">#&gt; 244: 401  39   0 female not applicable         NA        96        97</span>
<span class="co">#&gt; 245: 402  39   0 female not applicable         NA        96        97</span>
<span class="co">#&gt; 246: 403  39   0 female not applicable         NA        96        97</span>
<span class="co">#&gt; 247: 404   3   0   male not applicable         NA         4         5</span>
<span class="co">#&gt;      .give_birth</span>
<span class="co">#&gt;   1:          no</span>
<span class="co">#&gt;   2:          no</span>
<span class="co">#&gt;   3:          no</span>
<span class="co">#&gt;   4:          no</span>
<span class="co">#&gt;   5:          no</span>
<span class="co">#&gt;  ---            </span>
<span class="co">#&gt; 243:          no</span>
<span class="co">#&gt; 244:          no</span>
<span class="co">#&gt; 245:          no</span>
<span class="co">#&gt; 246:          no</span>
<span class="co">#&gt; 247:          no</span></pre></div>
<p>The <code><a href="reference/add_log.html">add_log()</a></code> function allows any object to be stored in our World object for doing post-simulation analysis. In the example, we logged the number of individuals that were alive in each simulation year. We can extract the log data using <code><a href="reference/add_log.html">get_log()</a></code>. The <code>value</code> column of the log data by <code><a href="reference/add_log.html">get_log()</a></code> is a list column, this is to allow any object to be stored in <code>value</code>, so we must flatten in to integer to make the log data easier to work with.</p>
<div class="sourceCode" id="cb5"><pre class="r"><span class="co"># get log data</span>
<span class="no">log_data</span> <span class="kw">&lt;-</span>
  <span class="fu"><a href="reference/add_log.html">get_log</a></span>(<span class="no">world</span>) <span class="kw">%&gt;%</span>
  <span class="no">.</span>[, <span class="no">value</span> <span class="kw">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span>(<span class="no">value</span>)]
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">log_data</span>)
<span class="co">#&gt;     time created_timestamp class  tag             desc value</span>
<span class="co">#&gt;  1:    1        1592366410 World &lt;NA&gt; count:Individual   361</span>
<span class="co">#&gt;  2:    2        1592366410 World &lt;NA&gt; count:Individual   344</span>
<span class="co">#&gt;  3:    3        1592366410 World &lt;NA&gt; count:Individual   327</span>
<span class="co">#&gt;  4:    4        1592366410 World &lt;NA&gt; count:Individual   312</span>
<span class="co">#&gt;  5:    5        1592366410 World &lt;NA&gt; count:Individual   304</span>
<span class="co">#&gt;  6:    6        1592366410 World &lt;NA&gt; count:Individual   294</span>
<span class="co">#&gt;  7:    7        1592366410 World &lt;NA&gt; count:Individual   282</span>
<span class="co">#&gt;  8:    8        1592366410 World &lt;NA&gt; count:Individual   273</span>
<span class="co">#&gt;  9:    9        1592366410 World &lt;NA&gt; count:Individual   260</span>
<span class="co">#&gt; 10:   10        1592366410 World &lt;NA&gt; count:Individual   247</span></pre></div>
<p>Let’s visualise how many individual agents are still alive at the end of the simulation.</p>
<div class="sourceCode" id="cb6"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="co">#&gt; Warning: package 'ggplot2' was built under R version 3.6.2</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="kw">data</span> <span class="kw">=</span> <span class="no">log_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">time</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">fill</span> <span class="kw">=</span> <span class="no">value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">label</span> <span class="kw">=</span> <span class="no">value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="st">"Time"</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="st">"Number of Individuals"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span>(<span class="kw">n.breaks</span> <span class="kw">=</span> <span class="fl">10</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span>(<span class="kw">fill</span> <span class="kw">=</span> <span class="st">"none"</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span>(<span class="kw">base_size</span> <span class="kw">=</span> <span class="fl">16</span>)</pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
<p>This is just an introductory example of dymiumCore, the real power of the package is in the building blocks and functions that allow you to create a large-scale microsimulation model that is easily maintainable and scalable model by breaking down each complex component into an event function as illustrated in <a href="https://github.com/dymium-org/dymiumExampleProject">dymium-org/dymiumExampleProject</a>.</p>
</div>
<div id="documentation-and-tutorials" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation-and-tutorials" class="anchor"></a>Documentation and Tutorials</h2>
<p>For documentation and tutorials, please check our website at <a href="https://core.dymium.org" class="uri">https://core.dymium.org</a>.</p>
</div>
<div id="available-modules" class="section level2">
<h2 class="hasAnchor">
<a href="#available-modules" class="anchor"></a>Available modules</h2>
<p>Please visit <a href="https://github.com/dymium-org/dymiumModules">dymium-org/dymiumModules</a> to see the available modules.</p>
</div>
<div id="try-dymiumcore-with-an-example-project" class="section level2">
<h2 class="hasAnchor">
<a href="#try-dymiumcore-with-an-example-project" class="anchor"></a>Try <code>dymiumCore</code> with an example project</h2>
<p>Please visit <a href="https://github.com/dymium-org/dymiumExampleProject">dymium-org/dymiumExampleProject</a> to learn more about this.</p>
</div>
<div id="collaboration" class="section level2">
<h2 class="hasAnchor">
<a href="#collaboration" class="anchor"></a>Collaboration</h2>
<p>We are open to collaboration on this project. If you are interested, please email us at amarin at dymium.org.</p>
</div>
<div id="development-plan-as-of-3rd-april-2020" class="section level2">
<h2 class="hasAnchor">
<a href="#development-plan-as-of-3rd-april-2020" class="anchor"></a>Development plan (as of 3rd April 2020)</h2>
<ul>
<li>
<input type="checkbox" disabled checked><strong>Version 0.1.0</strong>: (21 Jan 2020) Release all the basic building blocks for microsimulation modelling.<ul>
<li>
<input type="checkbox" disabled checked><strong>Version 0.1.6</strong>: Support <code>mlr</code> in <code>transision()</code> and <code>TransitionClassification</code>.</li>
<li>
<input type="checkbox" disabled checked><strong>Version 0.1.7 &amp; 0.1.8</strong> : Introduce simpler APIs (<code><a href="reference/mutate_entity.html">mutate_entity()</a></code>, <code><a href="reference/add_entity.html">add_entity()</a></code>, <code><a href="reference/add_log.html">add_log()</a></code>, <code><a href="reference/transition.html">transition()</a></code>) for creating simple microsimulation pipelines.</li>
<li>
<input type="checkbox" disabled><strong>Version 0.1.9</strong>: Support regression model creation from parameters.</li>
<li>
<input type="checkbox" disabled><strong>Version 0.1.10</strong>: Support <code>mlr3</code> and <code>mlogit</code> model objects in the Transition classes.</li>
<li>
<input type="checkbox" disabled><strong>Version 0.1.11</strong>: Support multiple choice models (multinomial logit models (MNL) and MNL with varying alternatives) with utility functions for sampling and simulation. This will be the last milestone for version 0.1.</li>
</ul>
</li>
<li>
<input type="checkbox" disabled><strong>Version 0.2.0</strong>: Implement model-based calibration.</li>
<li>
<input type="checkbox" disabled><strong>Version 0.3.0</strong>: Visualisation functions for life-courses, spatial data, etc.</li>
<li>
<input type="checkbox" disabled><strong>Version 0.4.0</strong>: Integration with dymiumGUI.</li>
</ul>
</div>
<div id="related-open-source-frameworks-and-models" class="section level2">
<h2 class="hasAnchor">
<a href="#related-open-source-frameworks-and-models" class="anchor"></a>Related open-source frameworks and models</h2>
<p><strong>General-purpose microsimulation frameworks</strong></p>
<ul>
<li><a href="https://github.com/liam2/liam2">LIAM2, Python</a></li>
<li><a href="http://www.jas-mine.net/">JASMINE, Java</a></li>
<li><a href="https://cran.r-project.org/web/packages/MicSim/index.html">MicSim, R</a></li>
<li><a href="https://github.com/virgesmith/neworder">neworder, Python</a></li>
<li><a href="https://github.com/kcha193/simarioV2">simarioV2, R</a></li>
<li><a href="https://github.com/compassresearchcentre/jamsim">JAMSIM, Java</a></li>
</ul>
<p><strong>Multi-agent programmable modeling environment</strong></p>
<ul>
<li><a href="https://ccl.northwestern.edu/netlogo/">NetLogo</a></li>
</ul>
<p><strong>Urban microsimulation land-use models</strong></p>
<ul>
<li><a href="https://github.com/UDST/urbansim">UrbanSim, Python</a></li>
<li><a href="https://github.com/TravelModellingGroup/ILUTE">ILUTE, C#</a></li>
<li><a href="https://github.com/msmobility/silo">SILO, Java</a></li>
</ul>
</div>
<div id="recommended-scholarly-articles" class="section level2">
<h2 class="hasAnchor">
<a href="#recommended-scholarly-articles" class="anchor"></a>Recommended scholarly articles</h2>
<p>To learn more about dynamic microsimulation modelling and some of its use cases please see these articles.</p>
<ul>
<li>O’Donoghue, C. (2001). Dynamic microsimulation: a methodological survey. Brazilian Electronic Journal of Economics, 4(2), 77.</li>
<li>Li, J., &amp; O’Donoghue, C. (2013). A survey of dynamic microsimulation models: uses, model structure and methodology. International Journal of microsimulation, 6(2), 3-55.</li>
<li>Rutter, C. M., Zaslavsky, A. M., &amp; Feuer, E. J. (2011). Dynamic microsimulation models for health outcomes: a review. Medical Decision Making, 31(1), 10-18.</li>
<li>GouuAs, K. G., &amp; Kitamura, R. (1992). Travel demand forecasting with dynamic microsimulation.</li>
</ul>
</div>
<div id="dependencies" class="section level2">
<h2 class="hasAnchor">
<a href="#dependencies" class="anchor"></a>Dependencies</h2>
<div class="sourceCode" id="cb7"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">deepdep</span>)
<span class="no">dd</span> <span class="kw">&lt;-</span> <span class="kw pkg">deepdep</span><span class="kw ns">::</span><span class="fu">deepdep</span>(<span class="st">"dymiumCore"</span>, <span class="kw">local</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">depth</span> <span class="kw">=</span> <span class="fl">3</span>)
<span class="kw pkg">deepdep</span><span class="kw ns">::</span><span class="fu">plot_dependencies</span>(<span class="no">dd</span>)</pre></div>
<p><img src="reference/figures/README-deepdep-fig-1.png" width="100%"></p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/dymium-org/dymiumCore/">https://​github.com/​dymium-org/​dymiumCore/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/dymium-org/dymiumCore/issues">https://​github.com/​dymium-org/​dymiumCore/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Amarin Siripanich <br><small class="roles"> Author, maintainer </small>  </li>
<li>Taha Rashidi <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dymium-org/dymiumCore/actions"><img src="https://github.com/dymium-org/dymiumCore/workflows/tic/badge.svg?branch=master" alt="tic"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0"><img src="https://img.shields.io/badge/License-GPL%20v3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://codecov.io/gh/dymium-org/dymiumCore?branch=master"><img src="https://codecov.io/gh/dymium-org/dymiumCore/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Amarin Siripanich, Taha Rashidi.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '5b9cd61032daf2c5966b7cd693157aa2',
    indexName: 'dymiumcore',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
